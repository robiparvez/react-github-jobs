(this["webpackJsonpreact-remotive-jobs"]=this["webpackJsonpreact-remotive-jobs"]||[]).push([[0],{77:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t(12),r=t.n(c),s=t(15),o=t(7),j=t(10),i=t(80),l=t(11),b=t.n(l),d="https://remotive.io/api/remote-jobs?limit=200",u="make-request",O="get-data",h="error",m="update-has-next-page",p=function(e,a){switch(a.type){case u:return{loading:!0,jobs:[]};case O:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,jobs:a.payload.jobs});case h:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,error:a.payload.error,jobs:[]});case m:return Object(o.a)(Object(o.a)({},e),{},{hasNextPage:a.payload.hasNextPage});default:return e}},x=function(e,a){var t=Object(n.useReducer)(p,{jobs:[],loading:!0}),c=Object(j.a)(t,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){s({type:u});var a=b.a.CancelToken.source();b.a.get(d,{cancelToken:a.token,params:Object(o.a)({},e)}).then((function(e){console.log(e.data.jobs),s({type:O,payload:{jobs:e.data.jobs}})})).catch((function(e){b.a.isCancel(e)||s({type:h,payload:{error:e}})}));var t=b.a.CancelToken.source();return b.a.get(d,{cancelToken:t.token,params:Object(o.a)({},e)}).then((function(e){s({type:m,payload:{hasNextPage:0!==e.data.jobs.length}})})).catch((function(e){b.a.isCancel(e)||s({type:h,payload:{error:e}})})),function(){a.cancel(),t.cancel()}}),[e,a]),r},g=t(83),y=t(79),f=t(84),v=t(81),C=t(31),N=t(4),k=function(e){var a=e.job,t=a.title,c=a.company_name,r=a.publication_date,s=a.job_type,o=a.candidate_required_location,i=a.description,l=Object(n.useState)(!1),b=Object(j.a)(l,2),d=b[0],u=b[1];return Object(N.jsx)(g.a,{className:"mb-3",children:Object(N.jsxs)(g.a.Body,{children:[Object(N.jsx)("div",{className:"d-flex justify-content-between mb-3",children:Object(N.jsxs)("div",{children:[Object(N.jsxs)(g.a.Title,{children:[t," - ",Object(N.jsx)("span",{className:"text-muted",children:c})]}),Object(N.jsxs)(g.a.Subtitle,{className:"text-muted mb-2",children:[new Date(r).toLocaleDateString()," ",new Date(r).toLocaleTimeString()]}),Object(N.jsx)(y.a,{variant:"secondary mr-2",children:function(e){var a,t=e.split("_");for(a=0;a<t.length;a++)t[a]=t[a].charAt(0).toUpperCase()+t[a].slice(1);return t.join(" ")}(s)}),Object(N.jsx)(y.a,{variant:"secondary",children:o})]})}),Object(N.jsx)(g.a.Text,{children:Object(N.jsx)(f.a,{onClick:function(){u((function(e){return!e}))},variant:"primary",children:d?"Hide Details":"View Details"})}),Object(N.jsx)(v.a,{in:d,children:Object(N.jsx)("div",{children:Object(C.a)(i)})})]})})},T=t(82),w=t(36),_=function(e){var a=e.params,t=e.onParamChange;return Object(N.jsx)(T.a,{className:"mb-4",children:Object(N.jsxs)(T.a.Row,{className:"align-items-end",children:[Object(N.jsxs)(T.a.Group,{as:w.a,children:[Object(N.jsx)(T.a.Label,{children:"Title/Description"}),Object(N.jsx)(T.a.Control,{type:"text",name:"search",onChange:t,value:a.search})]}),Object(N.jsxs)(T.a.Group,{as:w.a,children:[Object(N.jsx)(T.a.Label,{children:"Category"}),Object(N.jsx)(T.a.Control,{type:"text",name:"category",onChange:t,value:a.category})]}),Object(N.jsxs)(T.a.Group,{as:w.a,children:[Object(N.jsx)(T.a.Label,{children:"Company"}),Object(N.jsx)(T.a.Control,{type:"text",name:"company_name",onChange:t,value:a.company_name})]})]})})};var S=function(){var e=Object(n.useState)({}),a=Object(j.a)(e,2),t=a[0],c=a[1],r=Object(n.useState)(1),l=Object(j.a)(r,2),b=l[0],d=l[1],u=x(t,b),O=u.jobs,h=u.loading,m=u.error;return u.hasNextPage,Object(N.jsxs)(i.a,{className:"my-4",children:[Object(N.jsx)("h1",{className:"mb-4",children:"REMOTIVE JOBS"}),Object(N.jsx)(_,{params:t,onParamChange:function(e){var a=e.target.name,t=e.target.value;d(1),c((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(s.a)({},a,t))}))}}),h&&Object(N.jsx)("h1",{children:"Loading..."}),m&&Object(N.jsx)("h1",{children:"Try refreshing..."}),O.map((function(e){return Object(N.jsx)(k,{job:e},e.id)}))]})};r.a.render(Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(S,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.634c8205.chunk.js.map